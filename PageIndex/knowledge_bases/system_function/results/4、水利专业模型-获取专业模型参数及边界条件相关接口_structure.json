{
  "doc_name": "4、水利专业模型-获取专业模型参数及边界条件相关接口",
  "structure": [
    {
      "title": "获取专业模型参数及边界条件相关接口",
      "node_id": "0001",
      "text": "# 获取专业模型参数及边界条件相关接口",
      "line_num": 1,
      "nodes": [
        {
          "title": "概述",
          "node_id": "0002",
          "text": "## 概述\n\n本文档描述了卫共数字孪生流域获取专业模型参数及边界条件信息的API接口，共8个接口。接口的输入输出参数均有完整描述，输出一般都有返回的结果样例，全部接口均基于ASP.NET项目构建，所有接口通过Model_Ser.ashx.cs处理。每个接口都包含详细的输入参数说明和输出结果格式，其接口地址统一为：<http://172.16.16.253/wg_modelserver/hd_mike11server/Model_Ser.ashx>\n\n---",
          "line_num": 3,
          "summary": "## 概述\n\n本文档描述了卫共数字孪生流域获取专业模型参数及边界条件信息的API接口，共8个接口。接口的输入输出参数均有完整描述，输出一般都有返回的结果样例，全部接口均基于ASP.NET项目构建，所有接口通过Model_Ser.ashx.cs处理。每个接口都包含详细的输入参数说明和输出结果格式，其接口地址统一为：<http://172.16.16.253/wg_modelserver/hd_mike11server/Model_Ser.ashx>\n\n---",
          "key_points": []
        },
        {
          "title": "接口列表",
          "node_id": "0003",
          "text": "## 接口列表",
          "line_num": 9,
          "nodes": [
            {
              "title": "1. get_rfmodel",
              "node_id": "0004",
              "text": "### 1. get_rfmodel\n\n**用途**: 获取方案的产汇流模型类型\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_rfmodel\"\n- request_pars: 方案ID字符串\n**输出结果**:\n- JSON格式的产汇流模型类型字典, 为Dictionary<string, string> 类型序列化结果，\n  其中属性为各子流域编码，值为该子流域采用的产汇流模型编码，共3种:\"nam\"、\"swmm5\"、\"xaj\"",
              "line_num": 11,
              "summary": "### 1. get_rfmodel\n\n**用途**: 获取方案的产汇流模型类型\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_rfmodel\"\n- request_pars: 方案ID字符串\n**输出结果**:\n- JSON格式的产汇流模型类型字典, 为Dictionary<string, string> 类型序列化结果，\n  其中属性为各子流域编码，值为该子流域采用的产汇流模型编码，共3种:\"nam\"、\"swmm5\"、\"xaj\"",
              "key_points": []
            },
            {
              "title": "2. get_reach_break",
              "node_id": "0005",
              "text": "### 2. get_reach_break\n\n**用途**: 获取方案河堤溃口设置信息\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_reach_break\"\n- request_pars: 方案ID字符串\n**输出结果**:\n- JSON格式的溃口设置信息，样例结果：\n  {\n      \"str_name\": \"GQ_KB\",         //溃口编码\n      \"name\": \"卫辉共渠右堤决口\",   //溃口名称\n      \"location\": [                //溃口经纬度位置\n          113.917822,\n          35.368627\n      ],\n      \"fh_width\": 200.0,               //溃口宽(米)\n      \"fh_minutes\": 30.0,              //溃堤时长(分钟)\n      \"break_condition\": \"max_level\",  //溃决时机描述 - \"max_level\"(河道水位达到最高水位) 或 \"set_level\"(指定河道水位)\n      \"break_level\": 70.60,            //溃决水位\n      \"fh_datumn\": 71.711,             //溃口底高程\n      \"fh_start_time\": \"2030/07/01 12:10:00\",  //开始溃口时间\n      \"fh_finish_time\": \"2030/07/01 12:40:00\"  //溃口完成时间\n  }",
              "line_num": 23,
              "summary": "获取方案河堤溃口信息的API接口技术规范，定义了查询河道溃决参数的标准化请求方式与JSON输出格式。",
              "key_points": [
                "用于获取特定方案的河堤溃口详细设置信息",
                "接口采用GET请求，需传入方案ID字符串",
                "返回包含溃口位置经纬度的JSON格式数据",
                "提供溃口宽度、时长及底高程等物理参数",
                "支持最高水位或指定水位等溃决触发条件",
                "包含溃口开始及完成的具体时间节点信息"
              ]
            },
            {
              "title": "3. get_faultgate_baseinfo",
              "node_id": "0006",
              "text": "### 3. get_faultgate_baseinfo\n\n**用途**: 获取故障水闸的闸门基本信息，根据业务编码获取，一个业务编码对应一个故障水闸\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_faultgate_baseinfo\"\n- request_pars: 业务编码字符串 (business_code)\n**输出结果**:\n- JSON格式的故障闸门基础信息，样例：\n  {\n      \"str_name\": \"GQ_YTZJZZ\",     //建筑物编码\n      \"cn_name\": \"盐土庄节制闸\",    //建筑物名称\n      \"gate_info\": [                //建筑物各闸门信息，包括编码、名称、闸底高程、闸门高度、闸门经纬度坐标\n          {\n              \"gate_code\": \"YTZ_JZZ1\",\n              \"gate_name\": \"1#闸门\",\n              \"gate_bottom\": 53.0,\n              \"gate_h\": 10.0,\n              \"gate_jd\": 114.478034973145,\n              \"gate_wd\": 35.7404365539551\n          },\n          {\n              \"gate_code\": \"YTZ_JZZ2\",\n              \"gate_name\": \"2#闸门\",\n              \"gate_bottom\": 53.0,\n              \"gate_h\": 10.0,\n              \"gate_jd\": 114.478164672852,\n              \"gate_wd\": 35.7403984069824\n          },\n          ...\n      ]\n  }",
              "line_num": 49,
              "summary": "故障水闸基础信息查询接口规范，通过业务编码获取特定水闸及其所属闸门的详细属性与空间位置数据",
              "key_points": [
                "接口采用GET请求方式进行调用",
                "通过业务编码参数实现一对一查询",
                "返回结果包含建筑物编码与中文名称",
                "输出详细的闸门列表及各闸门属性",
                "包含闸底高程、闸门高度等技术参数",
                "提供闸门的经纬度地理坐标数据",
                "响应数据采用结构化的JSON格式"
              ]
            },
            {
              "title": "4. get_fault_gate",
              "node_id": "0007",
              "text": "### 4. get_fault_gate\n\n**用途**: 获取方案的故障闸门信息\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_fault_gate\"\n- request_pars: 方案ID字符串\n**输出结果**:\n- JSON格式的故障闸门信息，样例：\n  {\n      \"gate_name\": \"盐土庄节制闸\",         //故障水闸名称\n      \"fault_type\": \"部分闸门无法开启\",    //故障描述\n      \"gate_h\": [                         //水闸各闸门最大开度和当前开度\n          [\"1#闸门\",10.0,10.0],\n          [\"2#闸门\",10.0,0.0],\n          ...\n      ],\n      \"fault_gate\": \"2#闸门、4#闸门、5#闸门\",   //各故障闸门名称\n      \"fault_gate_jwd\": {                      //各故障闸门经纬度\n          \"2#闸门\": [\n              114.478164672852,\n              35.7403984069824\n          ],\n          \"4#闸门\": [\n              114.47843170166,\n              35.7403373718262\n          ],\n          \"5#闸门\": [\n              114.478561401367,\n              35.7403106689453\n          ]\n      }\n  }",
              "line_num": 83,
              "summary": "水利方案故障闸门信息查询接口规范，详细说明了通过GET请求获取特定方案中水闸故障详情、运行状态及空间坐标的参数与返回格式。",
              "key_points": [
                "用于获取特定方案相关的故障闸门详细信息",
                "采用GET请求方式并以方案ID作为输入参数",
                "返回结果包含故障描述及各闸门的开度对比数据",
                "提供故障闸门的具体名称列表及其精确经纬度",
                "输出结果采用标准JSON格式进行数据交互"
              ]
            },
            {
              "title": "5. get_ddinfo",
              "node_id": "0008",
              "text": "### 5. get_ddinfo\n\n**用途**: 获取模型方案所有可控建筑物的调度信息\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_ddinfo\"\n- request_pars: 方案ID字符串\n**输出结果**:\n- JSON格式的调度信息，样例：\n  [\n      [\n          \"XYC_FHY\",         //可控建筑物编码\n          \"1\",               //序号\n          \"西沿村分洪堰\",     //可控建筑物名称\n          \"分洪堰\",           //可控建筑物类型\n          \"西沿村溃口支流\",    //可控建筑物所在河道名称\n          \"[[\"\",\"全关\",\"0\",\"0\"]]\"   //可控建筑物闸门调度过程\n      ],\n      [\n          \"CHQ_FHY\",\n          \"2\",\n          \"长虹渠分洪堰\",\n          \"分洪堰\",\n          \"长虹渠溃口支流\",\n          \"[[\"\",\"全关\",\"0\",\"0\"]]\"\n      ],\n      ...\n  ]\n  可控建筑物闸门调度过程，格式为：[[\"时间1\"，\"操作类型1\"，\"闸孔数\",\"值\"],[\"时间2\"，\"操作类型2\"，\"闸孔数\",\"值\"],..]，当时间为空字符串时，表示全过程采用一组闸门操作，闸门状态不再随时间变化，操作类型分为\"全开\"、\"全关\"、\"半开\"、\"控泄\"、\"规则调度\"",
              "line_num": 118,
              "summary": "模型方案可控建筑物调度信息查询接口规范，用于获取特定方案下各类水工建筑物的调度参数与调度过程。",
              "key_points": [
                "支持通过方案ID获取调度数据",
                "采用GET请求并返回JSON格式",
                "包含建筑物名称、类型及所属河道",
                "详细描述了闸门调度的时序及状态",
                "支持全开、全关、控泄等多种操作"
              ]
            },
            {
              "title": "6. get_initial_waterlevel",
              "node_id": "0009",
              "text": "### 6. get_initial_waterlevel\n\n**用途**: 获取模型方案的初始水情信息\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_initial_waterlevel\"\n- request_pars: 方案ID字符串\n**输出结果**:\n- JSON格式的初始水情信息，样例：\n  {\n      \"水库\": [             //各水库的初始水情\n          [\n              1,              //序号\n              \"陈家院水库\",    //水库名称\n              754.12,         //初始水位\n              \"人为指定\",      //初始水位来源\n              \"31005550\"      //水库stcd编码\n          ],\n          [\n              2,\n              \"三郊口水库\",\n              626.35,\n              \"人为指定\",\n              \"31005580\"\n          ],\n          ...\n      ],\n      \"河道\": [            //各河道站点的初始水情\n          [\n              1,            //序号\n              \"汲县\",       //河道水文站点名称\n              64.7,         //初始水位\n              \"人为指定\",    //初始水位来源\n              \"31003600\"    //水文站点stcd编码\n          ],\n          [\n              2,\n              \"淇门\",\n              58.87,\n              \"人为指定\",\n              \"31003700\"\n          ],\n          ...\n      ]\n  }",
              "line_num": 149,
              "summary": "模型方案初始水情获取接口技术文档，详细说明了通过GET请求查询水库及河道初始水位信息的规范。",
              "key_points": [
                "采用GET请求方式进行接口调用",
                "通过方案ID字符串作为查询参数",
                "返回水库与河道站点的水情信息",
                "数据包含水位值、来源及STCD编码",
                "输出结果采用标准的JSON格式"
              ]
            },
            {
              "title": "7. get_bndinfo",
              "node_id": "0010",
              "text": "### 7. get_bndinfo\n\n**用途**: 获取模型方案的边界条件信息\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_bndinfo\"\n- request_pars: 方案ID字符串\n**输出结果**:\n- JSON格式的边界条件信息，样例：\n  {\n      \"bnd_type\": \"降雨计算洪水\",     //边界条件类型描述\n      \"bnd_value\": {                 //边界条件值\n          \"cdpg_all\": {\n              \"2023/07/28 08:00:00\": 0.08,\n              \"2023/07/28 08:30:00\": 0.08,\n              ...\n          },\n          \"zqh_all\": {\n              \"2023/07/28 08:00:00\": 0.0,\n              \"2023/07/28 08:30:00\": 0.0,\n              ...\n          },\n        ...\n      }\n  }",
              "line_num": 196,
              "summary": "模型方案边界条件查询接口技术规范，定义了通过方案ID获取水文边界信息（如降雨计算洪水）的请求方式与数据格式。",
              "key_points": [
                "接口用于获取指定模型方案的边界条件信息",
                "采用GET请求方式调用接口",
                "输入参数需提供请求类型及方案ID字符串",
                "返回包含边界类型描述的JSON格式数据",
                "输出结果涵盖时间序列的边界数值信息"
              ]
            },
            {
              "title": "8. get_dispatch_target",
              "node_id": "0011",
              "text": "### 8. get_dispatch_target\n\n**用途**: 获取方案的优化调度目标设置信息\n**请求方式**: GET\n**输入参数**:\n\n- request_type: \"get_dispatch_target\"\n- request_pars: 方案ID字符串\n**输出结果**:\n- JSON格式的优化调度目标信息，样例：\n  [\n      \"model_20241007110000\",   //方案ID\n      {                         //调度目标\n          \"name\": \"元村\",\n          \"stcd\": \"31004300\",\n          \"max_discharge\": 2500\n      },\n      [                         //各水库的约束水位\n          {\n              \"name\": \"双泉水库\",\n              \"stcd\": \"31006950\",\n              \"level_name\": \"防洪高水位\",\n              \"level_value\": 142.3\n          },\n          ...\n      ],\n      {                       //闸门过流能力、河道过流能力、蓄滞洪区水位的约束\n          \"gate\": true,\n          \"reach\": true,\n          \"xzhq_level\": true\n      }\n  ]\n\n---",
              "line_num": 223,
              "summary": "get_dispatch_target 接口技术说明，用于获取特定方案的优化调度目标设置信息，包括调度目标参数、水库水位约束及各项过流能力限制。",
              "key_points": [
                "采用 GET 方式请求接口",
                "输入参数包含请求类型和方案ID",
                "返回 JSON 格式的调度目标数据",
                "包含调度目标的名称与最大泄量",
                "提供各水库的约束水位及数值",
                "涵盖闸门、河道及蓄滞洪区约束"
              ]
            }
          ],
          "prefix_summary": "## 接口列表",
          "prefix_key_points": []
        },
        {
          "title": "总结",
          "node_id": "0012",
          "text": "## 总结\n\n本文档共收录8个获取专业模型参数及边界条件信息的API接口，包括：\n1. get_rfmodel - 获取方案的产汇流模型类型\n2. get_reach_break - 获取方案河堤溃口设置信息\n3. get_faultgate_baseinfo - 获取故障水闸的闸门基本信息\n4. get_fault_gate - 获取方案的故障闸门信息\n5. get_ddinfo - 获取模型方案所有可控建筑物的调度信息\n6. get_initial_waterlevel - 获取模型方案的初始水情信息\n7. get_bndinfo - 获取模型方案的边界条件信息\n8. get_dispatch_target - 获取方案的优化调度目标设置信息",
          "line_num": 258,
          "summary": "## 总结\n\n本文档共收录8个获取专业模型参数及边界条件信息的API接口，包括：\n1. get_rfmodel - 获取方案的产汇流模型类型\n2. get_reach_break - 获取方案河堤溃口设置信息\n3. get_faultgate_baseinfo - 获取故障水闸的闸门基本信息\n4. get_fault_gate - 获取方案的故障闸门信息\n5. get_ddinfo - 获取模型方案所有可控建筑物的调度信息\n6. get_initial_waterlevel - 获取模型方案的初始水情信息\n7. get_bndinfo - 获取模型方案的边界条件信息\n8. get_dispatch_target - 获取方案的优化调度目标设置信息",
          "key_points": []
        }
      ],
      "prefix_summary": "# 获取专业模型参数及边界条件相关接口",
      "prefix_key_points": []
    }
  ]
}