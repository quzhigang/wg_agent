{
  "doc_name": "1、洪水自动预报结果查询工作流",
  "structure": [
    {
      "title": "1. 洪水自动预报结果查询流程",
      "node_id": "0001",
      "text": "## 1. 洪水自动预报结果查询流程\n\n**触发场景**：当用户询问流域、水库或水文站点、蓄滞洪区的未来洪水预报情况，且未提供具体的降雨条件（如自定义雨量）或指定采用预报降雨时，也未明确要求启动一次新的预报计算时。\n\n**对话示例**：\n- \"告诉我卫河流域的洪水预报情况\"\n- \"告诉我未来几天流域洪水预报情况\"\n- \"最近一次自动预报的结果是什么？\"\n- \"未来三天卫河流域会发生洪水吗？\"\n- \"未来几天卫河流域会发生洪水吗？\"\n- \"告诉我最新的自动预报结果\"\n- \"当前洪水预报情况\"\n- \"最新洪水预报情况\"\n- \"XX水库未来的水位会涨到多少？\"\n- \"XX预报入库洪峰流量多少？\"\n- \"XX站预报洪水情况\"\n- \"XX站预报洪峰流量和最高水位？\"\n- \"XX蓄滞洪区预报洪水情况？\"\n\n**目标**：根据需求查询最新自动预报的洪水结果。\n\n**步骤**：\n步骤1.  **解析会话参数**\n    -   **调用接口工具**：无\n    -   **输入**：用户会话\n    -   **输出**：预报对象，如果请求全流域洪水预报结果，则输出全流域，如果请求指定水库水文站点蓄滞洪区预报结果，输出其中文名称。\n\n步骤2.  **获取最新洪水自动预报结果**\n    -   **调用接口工具**：调用“hydromodel_resultget.py”中的get_tjdata_result工具\n    -   **输入**：方案ID字符串参数固定采用\"model_auto\"\n    -   **输出**：JSON格式的自动预报方案结果，包含水库、河道断面、蓄滞洪区洪水结果。\n\n步骤3.  **结果信息提取整理**\n    -   **调用接口工具**：无\n    -   **输入**：使用 **步骤2** 的输出结果、使用 **步骤1** 的输出结果\n    -   **输出**：提取全流域或单一目标主要预报结果数据，包括结果概括描述和结果数据\n\n步骤4.  **采用合适的Web页面模板进行结果输出**\n    -   **调用接口工具**：无\n    -   **调用Web页面模板**：调用相应合适的web页面模板，如单一水库则调用单一水库洪水结果展示web页面模板(res_module)\n    -   **输入**：使用 **步骤3** 的输出结果\n    -   **输出**：Web页面\n---",
      "line_num": 1,
      "summary": "该流程定义了洪水自动预报结果的查询规范，涵盖从用户意图识别、模型接口调用、数据提取到Web页面模板展示的完整自动化查询处理步骤。",
      "key_points": [
        "触发于无特定条件的常规洪水查询场景",
        "通过会话解析提取流域或站点等预报对象",
        "调用接口获取model_auto方案的最新结果",
        "提取水库、河道断面及蓄滞洪区预报数据",
        "根据目标对象选择匹配的Web页面模板",
        "实现预报结果的自动化提取与可视化输出"
      ]
    }
  ]
}