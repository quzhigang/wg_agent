# ===========================================
# 卫共流域数字孪生智能体 - 环境变量配置
# ===========================================

# LLM Configuration (大模型配置，购买的月卡)
OPENAI_API_KEY=sk-HxA7Oe30dnXvkXSXXFjvgoPuncPHsYvghdywFxMnZldnA5fO
OPENAI_API_BASE=https://max.openai365.top/v1
OPENAI_MODEL_NAME=gemini-3-flash

# OPENAI_API_KEY=38abe885538747ad86f76264fc236e37.AchFXo1DP0hbAiI7
# OPENAI_API_BASE=https://open.bigmodel.cn/api/paas/v4
# OPENAI_MODEL_NAME=glm-4.7
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096

# Embedding Model Configuration(嵌入模型配置，公司部署的)
EMBEDDING_MODEL_NAME=bge-m3:latest
EMBEDDING_MODEL_API_URL=http://10.20.2.135:11434
EMBEDDING_MODEL_TYPE=ollama

# Reranker Configuration(重排序配置)
RERANKER_ENABLED=false

# MySQL Database Configuration(数据库配置)
MYSQL_HOST=172.16.16.253
MYSQL_PORT=3306
MYSQL_USER=quzhigang
MYSQL_PASSWORD=633587
MYSQL_DATABASE=wg_agent

# ChromaDB Configuration(向量库配置 - 使用PageIndex的向量库)
CHROMA_PERSIST_DIR=./PageIndex/chroma_db
CHROMA_COLLECTION_NAME=pageindex_nodes

# PageIndex Configuration(PageIndex知识库配置)
PAGEINDEX_RESULTS_DIR=./PageIndex/results
PAGEINDEX_UPLOAD_DIR=./PageIndex/uploads

# API Server Configuration(本系统API端口)
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true

# External API Base URLs (卫共流域业务系统接口)
WG_MODEL_SERVER_URL=http://172.16.16.253/wg_modelserver/hd_mike11server/Model_Ser.ashx
WG_DATA_SERVER_URL=http://10.20.2.153

# Auth Configuration (卫共流域业务系统登录)
BASIN_AUTH_ACCOUNT=admin
BASIN_AUTH_PASSWORD=Pwd@6915

# Session Configuration (会话参数配置)
SESSION_TIMEOUT_MINUTES=30
MAX_CONTEXT_LENGTH=8000
SUMMARY_THRESHOLD_MESSAGES=20

# Async Task Configuration (异步任务配置)
TASK_POLLING_INTERVAL_SECONDS=5
TASK_MAX_RETRIES=3
TASK_RETRY_DELAY_SECONDS=10

# Web Page Generation (生成页面和页面模板文件夹)
GENERATED_PAGES_DIR=./web/generated_pages
WEB_TEMPLATES_DIR=./web/web_templates

# Logging   (日志配置)
LOG_LEVEL=INFO
LOG_FILE=./logs/wg_agent.log

# Knowledge Base Directory (已废弃，使用PageIndex)
# KNOWLEDGE_DIR=./knowledge

# ===========================================
# MCP Server Configuration (MCP服务器配置)
# ===========================================
# 智谱Web Search MCP配置
MCP_ZHIPU_WEBSEARCH_ENABLED=true
MCP_ZHIPU_WEBSEARCH_TYPE=sse
MCP_ZHIPU_WEBSEARCH_NAME=智谱搜索MCP
MCP_ZHIPU_WEBSEARCH_DESCRIPTION=智谱Web Search MCP，整合了5家头部搜索引擎
MCP_ZHIPU_WEBSEARCH_URL=https://dashscope.aliyuncs.com/api/v1/mcps/zhipu-websearch/sse
MCP_ZHIPU_WEBSEARCH_API_KEY=sk-6adf2f4ec266498f8a6e98e5af5bcc92
