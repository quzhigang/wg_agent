# ===========================================
# 卫共流域数字孪生智能体 - 环境变量配置
# ===========================================

# ===========================================
# LLM Configuration - 各节点独立配置
# ===========================================
# 意图识别节点
INTENT_API_KEY=sk-9JMYkWWXziidMbCTiePVvgfxsCobO0wldI5hLYSNBxTwlt4o
INTENT_API_BASE=https://newapi.xiaochuang.cc/v1
INTENT_MODEL_NAME=gemini-3-flash-preview
INTENT_TEMPERATURE=0.3

# 工作流匹配节点
WORKFLOW_API_KEY=sk-9JMYkWWXziidMbCTiePVvgfxsCobO0wldI5hLYSNBxTwlt4o
WORKFLOW_API_BASE=https://newapi.xiaochuang.cc/v1
WORKFLOW_MODEL_NAME=gemini-3-flash-preview
WORKFLOW_TEMPERATURE=0.3

# 计划生成节点
PLAN_API_KEY=sk-9JMYkWWXziidMbCTiePVvgfxsCobO0wldI5hLYSNBxTwlt4o
PLAN_API_BASE=https://newapi.xiaochuang.cc/v1
PLAN_MODEL_NAME=gemini-3-flash-preview
PLAN_TEMPERATURE=0.3

# 结果合成节点
SYNTHESIS_API_KEY=sk-9JMYkWWXziidMbCTiePVvgfxsCobO0wldI5hLYSNBxTwlt4o
SYNTHESIS_API_BASE=https://newapi.xiaochuang.cc/v1
SYNTHESIS_MODEL_NAME=gemini-3-flash-preview
SYNTHESIS_TEMPERATURE=0.7

# 页面生成节点
PAGE_GEN_API_KEY=sk-9JMYkWWXziidMbCTiePVvgfxsCobO0wldI5hLYSNBxTwlt4o
PAGE_GEN_API_BASE=https://newapi.xiaochuang.cc/v1
PAGE_GEN_MODEL_NAME=gemini-3-flash-preview
PAGE_GEN_TEMPERATURE=0.5

# Embedding Model Configuration(嵌入模型配置，公司部署的)
EMBEDDING_MODEL_NAME=bge-m3:latest
EMBEDDING_MODEL_API_URL=http://10.20.2.135:11434
EMBEDDING_MODEL_TYPE=ollama

# Reranker Configuration(重排序配置)
RERANKER_ENABLED=false

# MySQL Database Configuration(数据库配置)
MYSQL_HOST=172.16.16.253
MYSQL_PORT=3306
MYSQL_USER=quzhigang
MYSQL_PASSWORD=633587
MYSQL_DATABASE=wg_agent

# ChromaDB Configuration(向量库配置 - 使用PageIndex的向量库)
CHROMA_PERSIST_DIR=./PageIndex/chroma_db
CHROMA_COLLECTION_NAME=pageindex_nodes

# PageIndex Configuration(PageIndex知识库配置)
PAGEINDEX_RESULTS_DIR=./PageIndex/results
PAGEINDEX_UPLOAD_DIR=./PageIndex/uploads

# API Server Configuration(本系统API端口)
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true

# External API Base URLs (卫共流域业务系统接口)
WG_MODEL_SERVER_URL=http://172.16.16.253/wg_modelserver/hd_mike11server/Model_Ser.ashx
WG_DATA_SERVER_URL=http://10.20.2.153

# Auth Configuration (卫共流域业务系统登录)
BASIN_AUTH_ACCOUNT=admin
BASIN_AUTH_PASSWORD=Pwd@6915

# Session Configuration (会话参数配置)
SESSION_TIMEOUT_MINUTES=30
MAX_CONTEXT_LENGTH=8000
SUMMARY_THRESHOLD_MESSAGES=20

# Async Task Configuration (异步任务配置)
TASK_POLLING_INTERVAL_SECONDS=5
TASK_MAX_RETRIES=3
TASK_RETRY_DELAY_SECONDS=10

# Web Page Generation (生成页面和页面模板文件夹)
GENERATED_PAGES_DIR=./web/generated_pages
WEB_TEMPLATES_DIR=./web/web_templates

# Logging   (日志配置)
LOG_LEVEL=INFO
LOG_FILE=./logs/wg_agent.log

# ===========================================
# 网络搜索配置 (博查Web Search API)
# ===========================================
WEB_SEARCH_ENABLED=true
WEB_SEARCH_API_KEY=sk-eb6f4246548a43fdb4410b7b5e3507de
WEB_SEARCH_API_URL=https://api.bochaai.com/v1/web-search
