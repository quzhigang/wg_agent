# ===========================================
# 卫共流域数字孪生智能体 - 环境变量配置
# ===========================================

# ===========================================
# LLM Configuration - 各节点独立配置
# ===========================================
# 思考模式配置（用于Qwen3等支持思考模式的模型）
# 非流式调用时必须设置为false，否则Qwen3会报错
LLM_ENABLE_THINKING=false

# 意图识别节点 --小模型
INTENT_API_KEY=sk-6adf2f4ec266498f8a6e98e5af5bcc92
INTENT_API_BASE=https://dashscope.aliyuncs.com/compatible-mode/v1
INTENT_MODEL_NAME=qwen3-8b
INTENT_TEMPERATURE=0.3

# 工作流匹配节点 --小模型
WORKFLOW_API_KEY=sk-6adf2f4ec266498f8a6e98e5af5bcc92
WORKFLOW_API_BASE=https://dashscope.aliyuncs.com/compatible-mode/v1
WORKFLOW_MODEL_NAME=qwen3-8b
WORKFLOW_TEMPERATURE=0.3

# 计划生成节点 --大模型
PLAN_API_KEY=sk-9JMYkWWXziidMbCTiePVvgfxsCobO0wldI5hLYSNBxTwlt4o
PLAN_API_BASE=https://newapi.xiaochuang.cc/v1
PLAN_MODEL_NAME=gemini-3-flash-preview
PLAN_TEMPERATURE=0.3

# 结果合成节点 --大模型
SYNTHESIS_API_KEY=sk-9JMYkWWXziidMbCTiePVvgfxsCobO0wldI5hLYSNBxTwlt4o
SYNTHESIS_API_BASE=https://newapi.xiaochuang.cc/v1
SYNTHESIS_MODEL_NAME=gemini-3-flash-preview
SYNTHESIS_TEMPERATURE=0.7

# 页面生成节点 --大模型
PAGE_GEN_API_KEY=sk-9JMYkWWXziidMbCTiePVvgfxsCobO0wldI5hLYSNBxTwlt4o
PAGE_GEN_API_BASE=https://newapi.xiaochuang.cc/v1
PAGE_GEN_MODEL_NAME=gemini-3-flash-preview
PAGE_GEN_TEMPERATURE=0.5

# 执行器节点（用于无工具时的LLM直接处理） --小模型
EXECUTOR_API_KEY=sk-6adf2f4ec266498f8a6e98e5af5bcc92
EXECUTOR_API_BASE=https://dashscope.aliyuncs.com/compatible-mode/v1
EXECUTOR_MODEL_NAME=qwen3-8b
EXECUTOR_TEMPERATURE=0.7

# 嵌入模型配置，公司部署的
EMBEDDING_MODEL_NAME=bge-m3:latest
EMBEDDING_MODEL_API_URL=http://10.20.2.135:11434
EMBEDDING_MODEL_TYPE=ollama

# 默认是否启用重排序配置
RERANKER_ENABLED=false

# 数据库配置
MYSQL_HOST=172.16.16.253
MYSQL_PORT=3306
MYSQL_USER=quzhigang
MYSQL_PASSWORD=633587
MYSQL_DATABASE=wg_agent

# 向量库配置 - 使用PageIndex的向量库
CHROMA_PERSIST_DIR=./PageIndex/chroma_db
CHROMA_COLLECTION_NAME=pageindex_nodes

# PageIndex知识库配置
PAGEINDEX_RESULTS_DIR=./PageIndex/results
PAGEINDEX_UPLOAD_DIR=./PageIndex/uploads

# 本系统API端口
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true

# 卫共流域业务系统接口
WG_MODEL_SERVER_URL=http://172.16.16.253/wg_modelserver/hd_mike11server/Model_Ser.ashx
WG_DATA_SERVER_URL=http://10.20.2.153

# 卫共流域业务系统登录
BASIN_AUTH_ACCOUNT=admin
BASIN_AUTH_PASSWORD=Pwd@6915
BASIN_TOKEN_EXPIRY_MINUTES=10

# 会话参数配置
SESSION_TIMEOUT_MINUTES=30
MAX_CONTEXT_LENGTH=8000
SUMMARY_THRESHOLD_MESSAGES=20

# 异步任务配置
TASK_POLLING_INTERVAL_SECONDS=5
TASK_MAX_RETRIES=3
TASK_RETRY_DELAY_SECONDS=10

# 生成页面和页面模板文件夹
GENERATED_PAGES_DIR=./web/generated_pages
WEB_TEMPLATES_DIR=./web/web_templates

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=./logs/wg_agent.log

# ===========================================
# 网络搜索配置 (博查Web Search API)
# ===========================================
WEB_SEARCH_ENABLED=true
WEB_SEARCH_API_KEY=sk-eb6f4246548a43fdb4410b7b5e3507de
WEB_SEARCH_API_URL=https://api.bochaai.com/v1/web-search
